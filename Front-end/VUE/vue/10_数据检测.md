### 问题：通过this.persons[0] = {id:'001',name:'马老师',age:50,sex:'男'} 无法修改数据
##  对于直接给数组类型里面增加内容没有get和set，需要用Vue包装过的操作数组的方法才能实现响应式处理，
##  直接通过数组索引值赋值不奏效
``` html
	<body>
		<!-- 准备好一个容器-->
		<div id="root">
			<h2>人员列表</h2>
			<button @click="updateMei">更新马冬梅的信息</button>
			<ul>
				<li v-for="(p,index) of persons" :key="p.id">
					{{p.name}}-{{p.age}}-{{p.sex}}
				</li>
			</ul>
		</div>
		<script type="text/javascript">
			Vue.config.productionTip = false
			
			const vm = new Vue({
				el:'#root',
				data:{
					persons:[
						{id:'001',name:'马冬梅',age:30,sex:'女'},
						{id:'002',name:'周冬雨',age:31,sex:'女'},
						{id:'003',name:'周杰伦',age:18,sex:'男'},
						{id:'004',name:'温兆伦',age:19,sex:'男'}
					]
				},
				methods: {
					updateMei(){
            //数组是没有set和get   数组里面的对象的属性有set和get
						// this.persons[0].name = '马老师' //奏效
						// this.persons[0].age = 50 //奏效
						// this.persons[0].sex = '男' //奏效
						// this.persons[0] = {id:'001',name:'马老师',age:50,sex:'男'} //不奏效
						this.persons.splice(0,1,{id:'001',name:'马老师',age:50,sex:'男'})  //数组方法奏效
					}
				}
			}) 

		</script>
``` 

### Vue对对象的检测
## 对data进行加工成Observer对象，再给vm._data    Observer对象有get和set方法，是响应式的
## 数据劫持：通过set改数据并更新模板
``` html
	<body>
		<script type="text/javascript" >

			let data = {
				name:'尚硅谷',
				address:'北京',
			}

			//创建一个监视的实例对象，用于监视data中属性的变化
			const obs = new Observer(data)		
			console.log(obs)	

			//准备一个vm实例对象
			let vm = {}
			vm._data = data = obs

			function Observer(obj){
				//汇总对象中所有的属性形成一个数组
				const keys = Object.keys(obj)
				//遍历
				keys.forEach((k)=>{
          //this（Observer），给自己遍历加上keys里面的属性
					Object.defineProperty(this,k,{
						get(){
							return obj[k]
						},
						set(val){
							console.log(`${k}被改了，我要去解析模板，生成虚拟DOM.....我要开始忙了`)
							obj[k] = val
						}
					})
				})
			}

		</script>
	</body>
```

### Vue.set方法 能够响应式的给data中的某一个对象添加属性
# 示例
``` html
	<script type="text/javascript">
		const vm = new Vue({
			el:'#root',
			data:{
				school:{
					name:'尚硅谷',
					address:'北京',
				},
				student:{
					name:'tom',
					age:{
						rAge:40,
						sAge:29,
					},
					friends:[
						{name:'jerry',age:35},
						{name:'tony',age:36}
					]
				}
			},
			methods: {
				addSex(){
          //第一种，用的是Vue
					Vue.set(this.student,'sex','男')
          //实际上是给Vue._data.student加，因为数据代理，Vue.student和Vue._data.studen一个地址，简写成Vue.student

          //第二种，用的是实例对象
					this.$set(this.student,'sex','男')
          //函数参数（要增加属性的位置，属性名，值） 或者  数组形式改变索引号位置对应的值（要增加属性的位置，索引号，值）
				}
			}
		})
	</script>

```